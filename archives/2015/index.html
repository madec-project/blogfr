<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2015 | MADEC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="MADEC">
<meta property="og:url" content="http://madec-project.github.io/archives/2015/index.html">
<meta property="og:site_name" content="MADEC">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MADEC">
<meta name="twitter:description">
  
    <link rel="alternative" href="atom.xml" title="MADEC" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">MADEC</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Visualisation d&#39;information structurée en rapport</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://madec-project.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Sprint-Review-15W23-calculs-complexes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/23/Sprint-Review-15W23-calculs-complexes/" class="article-date">
  <time datetime="2015-06-23T12:00:00.000Z" itemprop="datePublished">23 6 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/23/Sprint-Review-15W23-calculs-complexes/">Sprint Review #15W23: calculs complexes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Nous voici arrivés à la <em>sprint review</em> n°12, qui concerne les <em>calculs complexes</em>.<br>Comme le dit Anne-Marie, la division est une opération complexe par rapport au simple comptage. Mais la complexité dont nous parlons réside plutôt dans l’appel des données intégrées aux calculs: ils sont externes, dans des tableaux.</p>
<h1 id="Tâches">Tâches</h1><ul>
<li>10 tâches prévues</li>
<li>10 tâches effectuées (dont 9 avaient été prévues)</li>
<li>24 tâches au total</li>
<li>plus de 25 points de complexité prévus</li>
<li>24,5 points de complexité effectués</li>
</ul>
<p>Ce ne sont là que les points pour le développement, sachant que les utilisateurs ont fait plus (notamment sur les tests).</p>
<h1 id="Calcul_d’un_taux_de_citation_normalisé">Calcul d’un taux de citation normalisé</h1><p>Nous avons identifié 4 étapes pour le calcul d’un taux de citation normalisé:</p>
<ol>
<li>calculer le nombre de publications par année</li>
<li>calculer le nombre de citations par année</li>
<li>calculer le taux de citations par année</li>
<li>normaliser ce taux par rapport à un taux de citation global</li>
</ol>
<h2 id="1-_Calculer_le_nombre_de_publications_par_année">1. Calculer le nombre de publications par année</h2><p>Ce calcul se fait sur le corpus complet, donc on peut stocker le résultat dans un <code>corpusFields</code> (appelons-le <code>publiPerYear</code>).<br>Nous avons un opérateur classique pour compter le nombre de documents par valeurs distinctes d’un champ: <a href="https://github.com/madec-project/ezvis/blob/master/OPERATORS.md#distinct" target="_blank" rel="external"><code>distinct</code></a>.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">corpusFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$publiPerYear</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">$?</span>": <span class="value"><span class="string">"local:///compute.json?operator=distinct&amp;field=Year"</span></span>,</span><br><span class="line">      "<span class="attribute">parseJSON</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">      "<span class="attribute">get</span>": <span class="value"><span class="string">"data"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Nous obtenons donc:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2007"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">5</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2008"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">3</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2009"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">4</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2010"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">1</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2011"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">1</span></span><br><span class="line">  </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="2-_Calculer_le_nombre_de_citations_par_année">2. Calculer le nombre de citations par année</h2><p>De la même manière, ce calcul peut se faire sur tout le corpus. On le stocke dans le <code>corpusFields</code> nommé <code>citationsPerYear</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">corpusFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$publiPerYear</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">$?</span>": <span class="value"><span class="string">"local:///compute.json?operator=distinct&amp;field=Year"</span></span>,</span><br><span class="line">      "<span class="attribute">parseJSON</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">      "<span class="attribute">get</span>": <span class="value"><span class="string">"data"</span></span><br><span class="line">    </span>&#125;</span>,</span><br><span class="line">    "<span class="attribute">$citationsPerYear</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">$?</span>": <span class="value"><span class="string">"local:///compute.json?operator=sum_field1_by_field2&amp;field=NbCitations&amp;field=Year"</span></span>,</span><br><span class="line">      "<span class="attribute">parseJSON</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">      "<span class="attribute">get</span>": <span class="value"><span class="string">"data"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Cette fois, nous avons utilisé l’opérateur <a href="https://github.com/madec-project/ezvis/blob/master/OPERATORS.md#sum_field1_by_field2" target="_blank" rel="external"><code>sum_field1_by_field2</code></a> qui ramène bien ce qui nous intéresse:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2007"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">868</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2008"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">39</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2009"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">46</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2010"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">5</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2011"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">106</span></span><br><span class="line">  </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="3-_calculer_le_taux_de_citations_par_année">3. calculer le taux de citations par année</h2><p>Calculer le taux de citations par année revient à diviser la valeur de <code>citationsPerYear</code> par celle qui correspond dans <code>publiPerYear</code> (donc, le nombre de citations pour une année par le nombre de publications pour cette année, ce qui donne bien le nombre moyen de citations par publication, ou taux de citation):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"$citationRatioPerYear"</span>: &#123;</span><br><span class="line">  <span class="string">"zip"</span>: [<span class="string">"publiPerYear"</span>,<span class="string">"citationsPerYear"</span>],</span><br><span class="line">  <span class="string">"foreach"</span>: &#123;</span><br><span class="line">    <span class="string">"$value"</span>: &#123;</span><br><span class="line">      <span class="string">"compute"</span>: <span class="string">"citationsPerYear / publiPerYear"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"mask"</span>: <span class="string">"_id,value"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ici, nous obtenons un résultat sous forme d’un tableau d’éléments structurés <code>{ _id, value }</code> qui sont nécessaires pour pouvoir dessiner un graphe.</p>
<h2 id="4-_normaliser_ce_taux_par_rapport_à_un_taux_de_citation_global">4. normaliser ce taux par rapport à un taux de citation global</h2><p>Une fois qu’on a le taux de citations par années, on peut le diviser par le taux de citations global par années (obtenu par un autre moyen).</p>
<p>Pour cela, on va stocker dans un serveur web statique (par exemple un <a href="/2015/05/04/Sprint-Review-15W14-ressources-externes/#ezref"><code>ezref</code></a>) un fichier JSON contenant cette table:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2004</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">23.56</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2005</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">21.87</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2006</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">19.83</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2007</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">17.9</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2008</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">15.56</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2009</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">13.38</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2010</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">10.9</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2011</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">8.11</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2012</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">5.37</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2013</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">2.61</span></span>&#125;,&#123;"<span class="attribute">_id</span>":<span class="value"><span class="number">2014</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">0.53</span></span>&#125;]</span><br></pre></td></tr></table></figure>
<p>Puis, nous ajoutons un <code>corpusFields</code> nommé <code>globalCitationRatios</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">corpusFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$globalCitationRatios</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">$?</span>": <span class="value"><span class="string">"http://localhost:35000/ESI_AllFields_20150407.json"</span></span>,</span><br><span class="line">      "<span class="attribute">parseJSON</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">      "<span class="attribute">array2object</span>": <span class="value"><span class="literal">true</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Pour obtenir un objet JSON:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">2004</span>": <span class="value"><span class="number">23.56</span></span>,</span><br><span class="line">  "<span class="attribute">2005</span>": <span class="value"><span class="number">21.87</span></span>,</span><br><span class="line">  "<span class="attribute">2006</span>": <span class="value"><span class="number">19.83</span></span>,</span><br><span class="line">  "<span class="attribute">2007</span>": <span class="value"><span class="number">17.9</span></span>,</span><br><span class="line">  "<span class="attribute">2008</span>": <span class="value"><span class="number">15.56</span></span>,</span><br><span class="line">  "<span class="attribute">2009</span>": <span class="value"><span class="number">13.38</span></span>,</span><br><span class="line">  "<span class="attribute">2010</span>": <span class="value"><span class="number">10.9</span></span>,</span><br><span class="line">  "<span class="attribute">2011</span>": <span class="value"><span class="number">8.11</span></span>,</span><br><span class="line">  "<span class="attribute">2012</span>": <span class="value"><span class="number">5.37</span></span>,</span><br><span class="line">  "<span class="attribute">2013</span>": <span class="value"><span class="number">2.61</span></span>,</span><br><span class="line">  "<span class="attribute">2014</span>": <span class="value"><span class="number">0.53</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JBJ:_getPropertyVar_et_array2object">JBJ: getPropertyVar et array2object</h3><p>Cet objet JSON donne directement accès à un taux de citation global, en utilisant, par exemple <code>&quot;getproperty&quot;: &quot;2008&quot;</code>, on récupère la valeur associée: <code>15.56</code>.</p>
<p>C’est pourquoi nous avons créé l’action <a href="https://github.com/castorjs/node-jbj#array2object" target="_blank" rel="external"><code>array2object</code></a>, qui transforme un tableau d’objets <code>{_id,value}</code> en objet associant les <code>_id</code> et les <code>value</code>s.</p>
<p>Malheureusement, l’action JBJ <code>getproperty</code> ne prend qu’un paramètre littéral, et s’applique sur l’environnement courant. Or, nous voulons parcourir le tableau des taux de citations pour pouvoir normaliser chaque valeur par rapport à la valeur correspondante dans le tableau global.</p>
<p>Nous avons donc créé le pendant de <code>getproperty</code> prenant des variables en paramètres: <a href="https://github.com/castorjs/node-jbj#getpropertyvar" target="_blank" rel="external"><code>getpropertyvar</code></a>, qui prend en paramètre un tableau de deux noms de variables: la variable contenant le tableau, et la variable contenant l’indice à aller chercher.</p>
<p>Ça a permis d’appliquer le <code>flyingFields</code> suivant au résultat de l’opérateur retournant le nombre de publication par année:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"$normalizeCitationRatioPerYear"</span>: &#123;</span><br><span class="line">  <span class="string">"$cpy"</span>: &#123;</span><br><span class="line">    <span class="string">"get"</span>: <span class="string">"citationsPerYear"</span>,</span><br><span class="line">    <span class="string">"array2object"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"$citations"</span>: &#123;</span><br><span class="line">    <span class="string">"getpropertyvar"</span>: [<span class="string">"cpy"</span>,<span class="string">"_id"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"$globalCitation"</span>:&#123;</span><br><span class="line">    <span class="string">"getpropertyvar"</span>: [<span class="string">"globalCitationRatios"</span>,<span class="string">"_id"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"$value"</span>: &#123;</span><br><span class="line">    <span class="string">"compute"</span>: <span class="string">"citations / value / globalCitation"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"mask"</span>: <span class="string">"_id,value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>Rappel :</em> <code>flyingFields</code> a accès à la fois aux <code>corpusFields</code> et aux variables <code>_id</code> et <code>value</code> retournées par l’opérateur (<code>distinct</code> dans ce cas), <code>citationsPerYear</code> et <code>globalCitationRatios</code> étant des <code>corpusFields</code>, ils sont accessibles aussi.</p>
<p>Ce <code>flyingFields</code> appliqué à l’opérateur <code>distinct(Year)</code> via l’URL <a href="http://localhost:3000/compute.json?o=distinct&amp;f=Year&amp;ff=normalizeCitationRatioPerYear" target="_blank" rel="external">http://localhost:3000/compute.json?o=distinct&amp;f=Year&amp;ff=normalizeCitationRatioPerYear</a> renvoie un <code>data</code> dont le contenu est prêt à être affiché dans un <code>chart</code> (soit un <code>histogram</code>, soit un <code>horizontalbars</code>, soit un <code>pie</code>):</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2007"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">9.69832402234637</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2008"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">0.8354755784061696</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2009"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">0.85949177877429</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2010"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">0.4587155963302752</span></span><br><span class="line">  </span>&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    "<span class="attribute">_id</span>": <span class="value"><span class="string">"2011"</span></span>,</span><br><span class="line">    "<span class="attribute">value</span>": <span class="value"><span class="number">13.07028360049322</span></span><br><span class="line">  </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h1 id="Graphes_superposés">Graphes superposés</h1><p>Un taux de citation normalisé par année est intéressant à comparer à un nombre de publications par année, sur un corpus donné. Dans les versions 6.6 d’ezVIS, le seul moyen disponible était de créer un graphe avec les publications par année, puis un autre graphe avec les taux de citations pour qu’ils soient un au-dessus de l’autre dans le tableau de bord. Pas très pratique.</p>
<p>Un autre moyen est de superposer les deux graphiques (une manière classique est d’avoir un histogramme et une ligne, comme dans <a href="http://www.amcharts.com/demos/column-and-line-mix/" target="_blank" rel="external">cette démonstration de la bibliothèque amCharts</a>).</p>
<p>Nous avons donc introduit le moyen de le faire avec ezVIS 6.7.2, en ajoutant la propriété <a href="https://github.com/madec-project/ezvis/#overlay" target="_blank" rel="external"><code>overlay</code></a> à un graphique de type <code>histogram</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">fields</span>": <span class="value">[<span class="string">"content.json.Py"</span>]</span>,</span><br><span class="line">  "<span class="attribute">type</span>": <span class="value"><span class="string">"histogram"</span></span>,</span><br><span class="line">  "<span class="attribute">title</span>": <span class="value"><span class="string">"Années &amp; taux de citations normalisés"</span></span>,</span><br><span class="line">  "<span class="attribute">help</span>": <span class="value"><span class="string">"Nombre total de publications et de taux de citations normalisés par année"</span></span>,</span><br><span class="line">  "<span class="attribute">overlay</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">label</span>": <span class="value"><span class="string">"Taux de citation normalisé par année:"</span></span>,</span><br><span class="line">    "<span class="attribute">flying</span>": <span class="value">[ <span class="string">"normalizeCitationRatioPerYear"</span> ]</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Un <code>overlay</code> doit contenir un label (qui s’affiche sur les points de la ligne), et un <code>flying</code> qui s’appliquera sur les <code>data</code> fournis par l’opérateur (par défaut <code>distinct</code>) et les <code>fields</code>.</p>
<p>La convention est un qu’un <code>overlay</code> se nourrit d’éléments semblables à ceux d’un <code>chart</code> normal (composé d’un <code>_id</code> et d’une <code>value</code>) auquels on ajoute une deuxième valeur <code>value2</code>.<br>Il faut donc modifier le <code>flyingFields</code> nommé <code>normalizeCitationRatioPerYear</code> exposé plus haut:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">flyingFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$normalizeCitationRatioPerYear</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">$cpy</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">get</span>": <span class="value"><span class="string">"citationsPerYear"</span></span>,</span><br><span class="line">        "<span class="attribute">array2object</span>": <span class="value"><span class="literal">true</span></span><br><span class="line">      </span>&#125;</span>,</span><br><span class="line">      "<span class="attribute">$citations</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">getpropertyvar</span>": <span class="value">[<span class="string">"cpy"</span>,<span class="string">"_id"</span>]</span><br><span class="line">      </span>&#125;</span>,</span><br><span class="line">      "<span class="attribute">$globalCitation</span>":<span class="value">&#123;</span><br><span class="line">        "<span class="attribute">getpropertyvar</span>": <span class="value">[<span class="string">"globalCitationRatios"</span>,<span class="string">"_id"</span>]</span><br><span class="line">      </span>&#125;</span>,</span><br><span class="line">      "<span class="attribute">$value2</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">compute</span>": <span class="value"><span class="string">"citations / value / globalCitation"</span></span><br><span class="line">      </span>&#125;</span>,</span><br><span class="line">      "<span class="attribute">mask</span>": <span class="value"><span class="string">"_id,value,value2"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<img src="/2015/06/23/Sprint-Review-15W23-calculs-complexes/ezvis-overlay-6.7.2.png">
<h3 id="firstOnly">firstOnly</h3><p>Quand on veut appliquer le même genre de <code>flyingFields</code> à des valeurs déjà présentes dans <code>corpusFields</code>, on est quand même obligé de passer par une route de type <code>compute</code> qui applique un opérateur retournant systématiquement un tableau de résultats (même quand il n’y en a qu’un).<br>Or le principe des <code>flyingFields</code> est de s’appliquer à tous les éléments de ce tableau <code>data</code>. On obtient donc un tableau de tableaux, qu’ezVIS n’est pas capable d’interpréter. Nous avons donc ajouté la propriété <code>firstOnly</code> qui, au lieu de renvoyer un tableau d’éléments, ne renvoie que le premier élément du tableau. Voir le ticket <a href="https://github.com/castorjs/castor-core/issues/15" target="_blank" rel="external"><em>Add a “firstOnly” parameter to the routes returning data</em></a>.</p>
<p>Ainsi, quand on veut afficher un <code>histogram</code> avec un <code>overlay</code> contenant les taux de citations par années (présents dans le <code>corpusFields</code> appelé <code>citationsPerYear</code>), il faut utiliser une configuration comme celle-là (contenant un <code>firstOnly</code>):</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">dashboard</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">charts</span>": <span class="value">[</span><br><span class="line">      &#123;</span><br><span class="line">        "<span class="attribute">fields</span>": <span class="value">[<span class="string">"content.json.Py"</span>]</span>,</span><br><span class="line">        "<span class="attribute">type</span>": <span class="value"><span class="string">"histogram"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Années &amp; taux de citation"</span></span>,</span><br><span class="line">        "<span class="attribute">help</span>": <span class="value"><span class="string">"Nombre total de publications et de taux de citations par année"</span></span>,</span><br><span class="line">        "<span class="attribute">overlay</span>": <span class="value">&#123;</span><br><span class="line">          "<span class="attribute">label</span>": <span class="value"><span class="string">"Taux de citation par année:"</span></span>,</span><br><span class="line">          "<span class="attribute">firstOnly</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">          "<span class="attribute">flying</span>": <span class="value">[ <span class="string">"publiCitationRatioPerYear"</span> ]</span><br><span class="line">        </span>&#125;</span><br><span class="line">      </span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>sans oublier de modifier le <code>flyingFields</code> nommé <code>publiCitationRatioPerYear</code> pour qu’il renvoie deux valeurs:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">flyingFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$publiCitationRatioPerYear</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">zip</span>": <span class="value">[<span class="string">"publiPerYear"</span>,<span class="string">"citationsPerYear"</span>]</span>,</span><br><span class="line">      "<span class="attribute">foreach</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">$value</span>": <span class="value">&#123;</span><br><span class="line">          "<span class="attribute">get</span>": <span class="value"><span class="string">"publiPerYear"</span></span><br><span class="line">        </span>&#125;</span>,</span><br><span class="line">        "<span class="attribute">$value2</span>": <span class="value">&#123;</span><br><span class="line">          "<span class="attribute">compute</span>": <span class="value"><span class="string">"citationsPerYear / publiPerYear"</span></span><br><span class="line">        </span>&#125;</span>,</span><br><span class="line">        "<span class="attribute">mask</span>": <span class="value"><span class="string">"_id,value,value2"</span></span><br><span class="line">      </span>&#125;</span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<img src="/2015/06/23/Sprint-Review-15W23-calculs-complexes/ezvis-overlay-6.7.1.png">
<h1 id="Tests_de_chargement_(-tsv_WoS)">Tests de chargement (.tsv WoS)</h1><p>Nous utilisons des fichiers extraits du WoS (Web of Science) au format TSV (Tabulation Separated Values), et certaines notices passaient mal.</p>
<p>Nous avons trouvé des champs contenant des guillemets (<em>double quotes</em> anglaises), non échappés (mais c’est normal, il n’y avait pas d’ambiguité), et c’est visiblement ce qui posait problème. Une correction a été apportée à la bibliothèque qui analyse les CSV: csv-string. Voir <a href="https://github.com/touv/node-csv-string/pull/19" target="_blank" rel="external">ticket 19 de csv-string</a>.</p>
<p>Mais après tests, les fichiers qui posaient problème ne passent toujours pas correctement.</p>
<h1 id="Tests_de_dépôt_de_plusieurs_fichiers_(XML_ou_CSV)">Tests de dépôt de plusieurs fichiers (XML ou CSV)</h1><p>Nous avons remarqué un comportement erronné d’ezVIS: quand on met deux fichiers XML dans le répertoire des données, on obtient des erreurs SAX, alors que séparément, les deux fichiers sont bien chargés.</p>
<p>Après test, ce comportement ne se produit pas avec des fichiers CSV.</p>
<h1 id="Test_de_la_machine_de_production_avec_plus_de_dix_rapports">Test de la machine de production avec plus de dix rapports</h1><p>13 rapports ont été créés sur la machine de production, sans aucun problème (rappel: 12 rapports étaient déjà de trop sur la machine d’intégration avant qu’ezMaster soit corrigé).</p>
<h1 id="Documentation_du_protocole_HTTP_dans_les_documentFields">Documentation du protocole HTTP dans les documentFields</h1><p>L’utilisation du protocole HTTP dans les <code>documentFields</code> n’avait pas été documentée, c’est chose faite: <a href="https://github.com/madec-project/ezvis/commit/6a7147cda9bdc27dbb7e942e477ebdebd40e9495" target="_blank" rel="external">6a7147</a>.</p>
<h1 id="Modification_des_entêtes_des_exports">Modification des entêtes des exports</h1><p>Les exports de documents prennent maintenant comme noms de colonnes les labels des champs, et non plus leurs identifiants. Voir <a href="https://github.com/madec-project/ezvis/issues/48" target="_blank" rel="external">ticket 48</a>.</p>
<h1 id="Mise_à_jour_de_getting-started-with-visir">Mise à jour de getting-started-with-visir</h1><p>Le dépôt <code>getting-started-with-visir</code> a été renommé en <code>getting-started-with-ezvis</code>, la documentation adaptée à la version 6+ d’ezVIS, ainsi que l’exemple fourni.</p>
<h1 id="Explication_d’ezVIS_pour_ISTEX">Explication d’ezVIS pour ISTEX</h1><p>Kibana ne fournissant pas assez de graphiques, ISTEX s’est intéressé à ezVIS.<br>C’est l’occasion pour nous d’expérimenter le loader de corpus JSON <a href="https://github.com/castorjs/castor-load-jsoncorpus" target="_blank" rel="external">castor-load-jsoncorpus</a>.</p>
<h1 id="Mise_à_jour_/_installation_d’ezVIS">Mise à jour / installation d’ezVIS</h1><p>Pour profiter de la dernière version d’ezVIS:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --production -g ezvis</span><br></pre></td></tr></table></figure>
<p>À ce jour, c’est la version 6.7.2.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/06/23/Sprint-Review-15W23-calculs-complexes/" data-id="cib7ovrh80005ckp5n06kyp0x" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/06/23/Sprint-Review-15W23-calculs-complexes/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csv/">csv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/documentFields/">documentFields</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/export/">export</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezref/">ezref</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flyingFields/">flyingFields</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/http/">http</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jbj/">jbj</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/overlay/">overlay</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tsv/">tsv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xml/">xml</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Sprint-Review-15W19-Exports" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/01/Sprint-Review-15W19-Exports/" class="article-date">
  <time datetime="2015-06-01T13:00:00.000Z" itemprop="datePublished">1 6 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/01/Sprint-Review-15W19-Exports/">Sprint Review 15W19: Exports</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Voici le support de la Sprint Review n°11, concernant les <em>exports</em>.</p>
<h1 id="Tâches">Tâches</h1><ul>
<li>19 tâches prévues</li>
<li>16 tâches effectuées (dont 11 avaient été prévues)</li>
<li>24 tâches au total</li>
<li>plus de 38 points de complexité prévus</li>
<li>38 points de complexité effectués (un peu plus que la moyenne)</li>
</ul>
<h1 id="VSST_2015">VSST 2015</h1><p>ezVIS a été présenté à VSST 2015 par Anne-Marie BADOLATO, le <a href="http://atlas.irit.fr/programme.html" target="_blank" rel="external">13 mai 2015</a>.<br>À l’occasion, une instance protégée par login/mot de passe a été présentée, qui concernait une étude  réelle pour l’IRSTV. Cette instance tournait sur la machine virtuelle d’intégration, car nous n’avons pas été en mesure de mettre en place la machine de production <em>et de la tester</em> dans les temps.</p>
<h2 id="forever">forever</h2><p>En effet, une des différences entre la machine de production et la machine d’intégration est que la machine de production utilise <a href="https://www.npmjs.com/package/forever" target="_blank" rel="external">forever</a> pour s’assurer qu’<code>ezmaster</code> est relancé automatiquement si jamais il plante.</p>
<p>Ce qui a retardé l’utilisation de la machine de production est qu’<code>ezmaster</code> s’est révélé incapable, quand il était lancé par <code>forever</code>, de créer des fichiers temporaires dans le répertoire courant. Ceci a donné lieu à une correction d’<code>ezmaster</code>, mais pas assez tôt pour que ce soit la machine de production qu’on utilise.</p>
<h1 id="ezMaster">ezMaster</h1><p>En plus de la correction apportée pour fonctionner avec <a href="#forever">forever</a>, ezMaster a connu plusieurs changements:</p>
<ol>
<li>une optimisation de la fonction <em>reverse-proxy</em>, ce qui a éliminé les ralentissements observés après quelques utilisations des instances qu’<code>ezmaster</code> surveillait <a href="https://github.com/madec-project/ezmaster/commit/11fba019f60f782a80d6cbdd31649c7667926a66" target="_blank" rel="external">11fba01</a>,</li>
<li>l’affichage de l’app utilisée par une instance, et de sa version <a href="https://github.com/madec-project/ezvis/issues/30" target="_blank" rel="external">#30</a><img src="/2015/06/01/Sprint-Review-15W19-Exports/ezmaster_app_version.png"></li>
<li>ajout d’une prévisualisation de l’URL que va donner le nom technique d’une instance qu’on est en train de créer <a href="https://github.com/madec-project/ezvis/issues/32" target="_blank" rel="external">#32</a></li>
<li>le numéro de version d’une instance a été rendu optionnel (dans le but de simplifier les URL résultantes) <a href="https://github.com/madec-project/ezvis/issues/18" target="_blank" rel="external">#18</a><img src="/2015/06/01/Sprint-Review-15W19-Exports/ezmaster_optional_version.gif">
</li>
</ol>
<h1 id="ezVIS">ezVIS</h1><p>La plupart des tâches de ce sprint étaient liées à <code>ezvis</code>.</p>
<h2 id="Bug">Bug</h2><p>Nous avons corrigé un bug qui se produisait dans un réseau avec des facettes: quand on cliquait sur une facette, les restrictions apportées pour la création du réseau (en particulier <code>selector</code>, mais aussi <code>maxItems</code> et <code>threshold</code>) n’étaient pas appliquées.<br>Cela posait un problème quand le nombre de liens du réseau non restreint était trop important pour que le réseau puisse s’afficher dans le navigateur, gelant ainsi le navigateur.</p>
<p>Toutefois, cette correction ne touche que <code>selector</code> car les autres restrictions, appliquées en plus de celle de la facette, mène souvent à des graphes vides, ce qui est difficilement compréhensible.</p>
<p>Voir <a href="https://github.com/madec-project/ezvis/issues/39" target="_blank" rel="external">issue #39</a>.</p>
<h2 id="Améliorations_mineures">Améliorations mineures</h2><ul>
<li><a href="https://github.com/madec-project/ezvis/issues/38" target="_blank" rel="external">#38</a>: ajout de la possibilité de rendre les labels sur les graphiques plus courts (sur le même principe que ce qui avait déjà été fait pour les <a href="https://github.com/madec-project/ezvis#horizontalbars" target="_blank" rel="external"><code>horizontalbars</code></a>), pour les <code>histogram</code>s, et pour les <code>pie</code>s. Pour ce dernier, ce ne sont pas les labels eux-mêmes qui sont raccourcis, mais leur équivalent dans la légende du camembert,<img src="/2015/06/01/Sprint-Review-15W19-Exports/ezvis_pie_shortlabels.png"></li>
<li><a href="https://github.com/madec-project/ezvis/issues/31" target="_blank" rel="external">#31</a>: la référence à amCharts qui apparaissait comme un petit lien <code>js Charts</code> en haut à gauche des graphiques a été déplacé en bas à droite des graphiques, emplacement jugé moins gênant (il est moins souvent placé sur une barre sur laquelle on clique). Rappel: cette référence est nécessaire, car l’enlever requerrait de payer la société qui produit cette bibliothèque,</li>
<li><a href="https://github.com/madec-project/ezvis/issues/28" target="_blank" rel="external">#28</a>: les labels des camemberts (qui apparaissent autour des parts du graphique) sont maintenant désactivables (pour ne plus voir que les nombres). Il faut utiliser <code>removeLabels: true</code>,</li>
<li><a href="https://github.com/madec-project/ezvis/issues/37" target="_blank" rel="external">#37</a>: nous avons ajouté un exemple de configuration <code>ezvis</code> pour des fichiers <code>.tsv</code> <a href="https://github.com/madec-project/showcase/blob/master/basis_loader_tsv/repository.json" target="_blank" rel="external">dans le showcase</a>.</li>
</ul>
<h2 id="Chargement_de_-TSV">Chargement de .TSV</h2><p>Après l’écriture de la mini-configuration de déclaration du loader pour charger des <code>.tsv</code> minimaux, nous avons voulu créer un exemple réel de chargement de fichiers tirés du WoS (Web of Science).<br>Il s’est trouvé que les fichiers tels quels ne se chargeaient pas dans <code>ezvis</code>, même après avoir utilisé des options peu courantes de <code>castor-load-csv</code>.</p>
<p>Après investigation, le nœud du problème se trouvait dans la bibliothèque <code>csv-string</code> qui analyse le TSV dans <code>castor-load-csv</code>. L’auteur de la bibliothèque l’a améliorée pour qu’elle prenne aussi en compte ces fichiers TSV (il n’y a pas vraiment de norme concernant la manière d’encoder les doubles quotes (guillemets anglais) dans ces fichiers). Voir <a href="https://github.com/touv/node-csv-string/pull/19" target="_blank" rel="external">les tests proposés</a> pour plus de détails.</p>
<h2 id="Exports">Exports</h2><p>Le thème de ce sprint était l’<em>export</em> en général. Il se spécialise en:</p>
<ul>
<li>export des images des graphiques</li>
<li>export des documents associés aux graphiques</li>
<li>export des données des graphiques (ce n’était pas demandé)</li>
</ul>
<h3 id="graphiques">graphiques</h3><h4 id="amCharts">amCharts</h4><p>Les graphiques <code>horizontalbars</code>, <code>histogram</code>, <code>pie</code> et <code>map</code> utilisent la même bibliothèque qui vient d’être <a href="http://www.amcharts.com/blog/version-3-14-released/" target="_blank" rel="external">mise à jour</a>. Surprise: le thème de cette mise à jour est l’export. Cette version améliore une fonctionnalité qui existait déjà, en l’étendant à d’autres formats et aussi aux données qui ont permis la création du graphique.</p>
<p>Ces graphiques simples sont donc désormais exportables à partir d’un menu présent en haut à droite. Ils permettent:</p>
<ul>
<li>l’annotation (dessin sur l’image, à la souris),<img src="/2015/06/01/Sprint-Review-15W19-Exports/ezvis_annotation.png"></li>
<li>la sauvegarde de l’image (avec son éventuelle annotation), aux formats JPG, PNG, SVG et même PDF,</li>
<li>la sauvegarde des données ayant permis la construction du graphique (sauf pour les cartes, que nous n’avons pas réussi à activer), aux formats CSV, XLSX et JSON.<img src="/2015/06/01/Sprint-Review-15W19-Exports/ezvis_chart_image_exports.gif">
</li>
</ul>
<p>Lors des tests, nous nous sommes aperçus que l’export CSV exportait toutes les valeurs sauf la première (en général la plus grande). La déclaration d’un problème dans leur système de support a provoqué une mise à jour dans la journée. Bravo à <a href="http://www.amcharts.com/" target="_blank" rel="external">amCharts</a>.</p>
<h4 id="cytoscape">cytoscape</h4><p>Nous avions reperé qu’il existait aussi une fonction d’export dans la bibliothèque <a href="http://js.cytoscape.org/" target="_blank" rel="external">Cytoscape</a> que nous utilisons pour la représentation graphique des réseaux. Il s’est avéré que cette fonction était beaucoup moins clé-en-main que celle d’amCharts.</p>
<p>Le menu d’export des réseaux se résume donc à un bouton qui exporte une image PNG.</p>
<img src="/2015/06/01/Sprint-Review-15W19-Exports/ezvis_export_network.png">
<p>Pour le détails des exports des graphiques, voir le <a href="https://github.com/madec-project/ezvis/issues/36" target="_blank" rel="external">ticket #36</a>.</p>
<h3 id="documents">documents</h3><p>L’export des documents était déjà présent dans <code>ezvis</code>, mais uniquement sur la page des documents, où on exporte tous les documents présents sur la page, avec une sélection basique, par filtrage.</p>
<p>Il est désormais présent aussi sur la page des graphiques, et prend aussi en compte les filtres venant du graphique et des facettes. Voir <a href="https://github.com/madec-project/ezvis/issues/20" target="_blank" rel="external">#20</a>.</p>
<img src="/2015/06/01/Sprint-Review-15W19-Exports/ezvis_chart_exports.gif">
<h2 id="http_dans_les_documentFields_/_nosave">http dans les documentFields / nosave</h2><p>Lors de <a href="/2015/05/04/Sprint-Review-15W14-ressources-externes/">la dernière Sprint Review</a>, nous avions montré un usage des <a href="/2015/05/04/Sprint-Review-15W14-ressources-externes/#flyingFields"><code>flyingFields</code></a> qui était certes visuel, mais qui s’est avéré non pertinent: nous modifiions à la volée (<em>flying</em>) les <em>identifiants</em> du graphique.<br>Ce faisant, nous avions rendu les filtres inopérants (cliquer sur un pays ne retournait plus les documents publiés dans ces pays).<br>Cela n’invalide pas l’utilité des <code>flyingFields</code>, puisque leur utilisation reste valable quand on modifie les <em>valeurs</em> projetées dans les graphiques (par exemple, pour afficher un taux de citation par année, et pas seulement un nombre de citations).</p>
<p>Mais le besoin d’externaliser des tables de références (ici, une correspondance entre les noms de pays et leur code ISO) perdure, donc nous avons implémenté l’utilisation de sources extérieures (comme dans les <code>corpusFields</code>) depuis les <code>documentFields</code>.</p>
<p>Comme nous ne voulons pas surcharger la base en dupliquant des tables dans chaque document, nous avons introduit une propriété pour ces <code>documentFields</code> que nous voulons utiliser, mais pas sauvegarder dans la base: <code>nosave</code>. Il suffit de positionner cette propriété à <code>true</code> pour que le champ ne soit pas sauvegardé mais tout de même disponible pour le calcul d’autres <code>documentFields</code>.</p>
<p>Voir <a href="https://github.com/madec-project/ezvis/issues/40" target="_blank" rel="external">#40</a>, et <a href="https://github.com/madec-project/ezvis#nosave" target="_blank" rel="external">nosave</a>.</p>
<h2 id="JBJ">JBJ</h2><h3 id="zip">zip</h3><p>Pour calculer des expressions impliquant les valeurs de deux tableaux (comme pour normaliser des valeurs par années), il nous fallait être capable de fusionner deux tableaux de même longueur.</p>
<p>Exemple:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">publiPerYear</span>": <span class="value">[</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2007"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">538</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2008"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">577</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2009"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">611</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2010"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">548</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2011"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">567</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2012"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">608</span></span>&#125;]</span>,</span><br><span class="line">  "<span class="attribute">citationsPerYear</span>": <span class="value">[</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2007"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">7681</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2008"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">5479</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2009"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">5043</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2010"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">3698</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2011"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">2927</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2012"</span></span>,"<span class="attribute">value</span>":<span class="value"><span class="number">2049</span></span>&#125;]</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>En divisant <code>citationsPerYear[i]</code> par <code>publiPerYear[i]</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">zip</span>": <span class="value">[ <span class="string">"citationsPerYear"</span>, <span class="string">"publiPerYear"</span> ]</span>,</span><br><span class="line">  "<span class="attribute">foreach</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">compute</span>": <span class="value"><span class="string">"citationsPerYear / publiPerYear"</span></span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Dans cet exemple, <code>&quot;zip&quot;: [ &quot;citationsPerYear&quot;, &quot;publiPerYear&quot; ]</code> renvoie, en JBJ:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2007"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">7681</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">538</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2008"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">5479</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">577</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2009"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">5043</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">611</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2010"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">3698</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">548</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2011"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">2927</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">567</span></span>&#125;,</span><br><span class="line">    &#123;"<span class="attribute">_id</span>":<span class="value"><span class="string">"2012"</span></span>,"<span class="attribute">citationsPerYear</span>":<span class="value"><span class="number">2049</span></span>, "<span class="attribute">publiPerYear</span>": <span class="value"><span class="number">608</span></span>&#125;]</span><br></pre></td></tr></table></figure>
<p>Voir <a href="https://github.com/castorjs/node-jbj/issues/8" target="_blank" rel="external">JBJ#8</a></p>
<h1 id="getproperty">getproperty</h1><p>De plus, il manquait une action capable de retourner la valeur d’un tableau associatif correspondant à une clé:</p>
<p>Ex:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">set</span>": <span class="value">[ <span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span> ]</span>,</span><br><span class="line">  "<span class="attribute">getProperty</span>": <span class="value"><span class="string">"0"</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>renvoie</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"a"</span></span><br></pre></td></tr></table></figure>
<p>et</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">set</span>": <span class="value">&#123; "<span class="attribute">a</span>": <span class="value"><span class="number">0</span></span>, "<span class="attribute">b</span>": <span class="value"><span class="number">1</span></span>, "<span class="attribute">c</span>":<span class="value"><span class="number">2</span> </span>&#125;</span>,</span><br><span class="line">  "<span class="attribute">getProperty</span>": <span class="value"><span class="string">"b"</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>renvoie</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Voir <a href="https://github.com/castorjs/node-jbj/issues/9" target="_blank" rel="external">JBJ#9</a></p>
<h2 id="commande_ezref">commande ezref</h2><p>La version 1.0.0 d’<code>ezref</code> devait être lancée de manière non triviale quand ce n’était pas par <code>ezmaster</code>. Nous avons donc publié la version 1.1.0 qui ajoute une commande <code>ezref</code> quand on l’installe via:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g ezref</span><br></pre></td></tr></table></figure>
<h2 id="Installation_/_mise_à_jour">Installation / mise à jour</h2><p>Après l’<a href="/2015/03/30/Sprint-Review-15W09-stabilisation/#dalekjs">écriture de tests via dalekjs</a>, l’installation d’<code>ezvis</code> ramenait des modules utiles uniquement pour le développement (pour ces tests).</p>
<p>Pour éviter de grossir les fichiers d’<code>ezvis</code>, on peut l’installer en utilisant l’option <code>--production</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --production -g ezvis</span><br></pre></td></tr></table></figure>
<p>C’est la même commande qui permet de mettre à jour <code>ezvis</code> en installant la dernière version à la place de l’éventuelle version installée, quelle qu’elle soit.</p>
<p>À ce jour, c’est la version 6.6.0.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/06/01/Sprint-Review-15W19-Exports/" data-id="cib7ovrhf000ockp5st6yz345" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/06/01/Sprint-Review-15W19-Exports/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/amcharts/">amcharts</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csv/">csv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cytoscape/">cytoscape</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/export/">export</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezmaster/">ezmaster</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezref/">ezref</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flyingFields/">flyingFields</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/forever/">forever</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jbj/">jbj</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/json/">json</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pdf/">pdf</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/png/">png</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/svg/">svg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tsv/">tsv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vsst/">vsst</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xlsx/">xlsx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Sprint-Review-15W14-ressources-externes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/04/Sprint-Review-15W14-ressources-externes/" class="article-date">
  <time datetime="2015-05-04T12:00:00.000Z" itemprop="datePublished">4 5 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/04/Sprint-Review-15W14-ressources-externes/">Sprint Review #15W14: ressources externes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Voici venue la revue de sprint numéro 10, qui a pour thème principal <em>les ressources externes</em>.</p>
<h1 id="Tâches">Tâches</h1><ul>
<li>18 tâches prévues</li>
<li>10 tâches effectuées</li>
<li>22 tâches au total</li>
<li>plus de 46 points de complexité prévus (avec des incertitudes)</li>
<li>36,5 points de complexité résolus (avec des tâches non prévues): dans la moyenne</li>
</ul>
<h1 id="madec-project-github-io">madec-project.github.io</h1><p>J’ai créé un page pour l’organisation <code>madec-project</code> sur <a href="https://github.com" target="_blank" rel="external">GitHub</a>, celle qui contient tous les programmes liés au projet MADEC. GitHub offrant l’hébergement d’un site statique, nous avions déjà opté pour <a href="http://hexo.io" target="_blank" rel="external">Hexo</a> pour ce blog.</p>
<p>Pour obtenir une URL relativement courte (en tout cas plus courte que <a href="http://madec-project.github.io/blogfr" target="_blank" rel="external">http://madec-project.github.io/blogfr</a>), il a fallu nommer le dépôt contenant ce site <code>madec-project.github.io</code>, ce qui nous autorise une URL sans le nom du dépôt: <a href="http://madec-project.github.io/" target="_blank" rel="external">http://madec-project.github.io/</a></p>
<h1 id="Twitter">Twitter</h1><p>Un compte Twitter <a href="http://twitter.com/ezvis_project" target="_blank" rel="external">ezvis_project</a> a aussi été créé (en ces temps de communication autour d’ezVIS, ça peut servir).</p>
<img src="/2015/05/04/Sprint-Review-15W14-ressources-externes/ezVisTwitter.png">
<h1 id="vimadec_/_vpmadec_/_puppet">vimadec / vpmadec / puppet</h1><p>Le travail avec Patrice, Martial et Philippe porte ses fruits:</p>
<ul>
<li>ajout d’un script d’installation d’une app ezmaster à partir de l’URL de son <code>.tar.gz</code>,</li>
<li>mise sous surveillance du processus <code>ezmaster</code> afin de le relancer automatiquement quand il s’arrête (via <a href="https://www.npmjs.com/package/forever" target="_blank" rel="external">forever</a>),</li>
<li>création d’une machine virtuelle de production <code>vpmadec</code>,</li>
<li>création d’un accélérateur sécurisé vers cette machine virtuelle.</li>
</ul>
<h1 id="ezVIS">ezVIS</h1><h2 id="Test_sous_node_v0-12">Test sous node v0.12</h2><p>En utilisant <a href="https://github.com/creationix/nvm" target="_blank" rel="external">nvm</a>, nous avons lancé et testé à la main ezVIS, et tout a marché.</p>
<p>Il a néanmoins fallu passer par un <code>npm rebuild</code> pour recompiler/récupérer les modules binaires correspondant à cette version (principalement <code>bson</code> et <code>kerberos</code>)</p>
<h2 id="Affichage_de_la_version">Affichage de la version</h2><p>Pour faciliter les échanges avec les utilisateurs (il y en a eu avec une personne d’Orléans, par mél), on affiche la version d’ezVIS dans le navigateur:</p>
<img src="/2015/05/04/Sprint-Review-15W14-ressources-externes/ezvis-version-browser.png">
<p>mais aussi lors du lancement d’une instance ezVIS:</p>
<img src="/2015/05/04/Sprint-Review-15W14-ressources-externes/ezvis-version-cli.png">
<h2 id="login/password">login/password</h2><p>On peut maintenant limiter l’accès à un rapport ezVIS en utilisant la clé <code>access</code>, contenant un <code>login</code> et un mot de passe soit <code>plain</code>, soit <code>sha1</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"access"</span>: &#123;</span><br><span class="line">  <span class="string">"login"</span>: <span class="string">"user"</span>,</span><br><span class="line">  <span class="string">"sha1"</span> : <span class="string">"37fa265330ad83eaa879efb1e2db6380896cf639"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Le mot de passe sous forme <code>plain</code> est simplement le mot de passe en clair.<br>Mais comme ce n’est pas une bonne pratique, on peut remplacer son usage par celui de <code>sha1</code> qui remplace un mot de passe par son <a href="http://fr.wikipedia.org/wiki/SHA-1" target="_blank" rel="external">empreinte SHA-1</a>.</p>
<p>Ainsi, on connaît l’empreinte du mot de passe, mais pas le mot de passe lui-même.</p>
<p>Pour obtenir l’empreinte SHA-1 d’un mot de passe, on peut utiliser des commandes comme <code>shasum</code> ou <code>sha1sum</code> (en n’incluant pas de passage à la ligne dans le mot de passe), ou bien des sites de génération comme <a href="http://www.sha1-online.com/" target="_blank" rel="external">SHA1 online</a>.</p>
<h2 id="Accès_aux_ressources_externes">Accès aux ressources externes</h2><h3 id="ezref">ezref</h3><p>On peut avoir besoin de ressources externes à ezvis (parce que de simples fichiers), mais avec la possibilité de remplacer ces fichiers de référence (tables de correspondance, listes, …).</p>
<p>Utiliser <code>ezref</code>, l’application pour ezMaster qui met à disposition via le protocole http des fichiers qu’ezMaster vous permet de déposer est la solution.</p>
<p>Pour pouvoir stocker les ressources: ezref (serveur web statique).</p>
<h3 id="flyingFields">flyingFields</h3><p>Les <code>flyingFields</code> sont les cousins des <code>documentFields</code> et des <code>corpusFields</code>. Ils sont un croisement, dans le sens où ils permettent l’interopérabilité des uns et des autres.</p>
<h3 id="JBJ">JBJ</h3><p>Pour pouvoir appliquer une table de correspondance présente dans les <code>corpusFields</code>, on a ajouté une action <code>mappingVar</code> à JBJ, qui fonctionne comme <code>mapping</code>, mais dont les arguments sont différents.</p>
<h3 id="Exemple:_externaliser_la_table_de_correspondance_d’une_carte_géographique">Exemple: externaliser la table de correspondance d’une carte géographique</h3><p>Pour projeter des données sur la carte du monde, jusqu’ici, on était obligé de traduire les noms des pays en codes ISO (c’est ainsi que sont identifiés les pays sur la carte):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"$fields.country"</span> : &#123;</span><br><span class="line">  <span class="string">"label"</span>: <span class="string">"Pays d'affiliation"</span>,</span><br><span class="line">  <span class="string">"path"</span> : <span class="string">"content.json.Pays"</span>,</span><br><span class="line">  <span class="string">"parseCSV"</span>: <span class="string">";"</span>,</span><br><span class="line">  <span class="string">"foreach"</span>: &#123;</span><br><span class="line">    <span class="string">"mapping"</span>: &#123;</span><br><span class="line">      <span class="string">"Albania"</span> : <span class="string">"ALB"</span>,</span><br><span class="line">      <span class="string">"Algeria"</span> : <span class="string">"DZA"</span>,</span><br><span class="line"></span><br><span class="line">      <span class="string">"Zaire"</span> : <span class="string">"COD"</span>,</span><br><span class="line">      <span class="string">"Zambia"</span> : <span class="string">"ZMB"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Nous avons amélioré l’opérateur <code>mapping</code> de JBJ pour qu’il puisse traiter directement tout un tableau:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"$fields.country"</span> : &#123;</span><br><span class="line">  <span class="string">"label"</span>: <span class="string">"Pays d'affiliation"</span>,</span><br><span class="line">  <span class="string">"path"</span> : <span class="string">"content.json.Pays"</span>,</span><br><span class="line">  <span class="string">"parseCSV"</span>: <span class="string">";"</span>,</span><br><span class="line">  <span class="string">"mapping"</span>: &#123;</span><br><span class="line">    <span class="string">"Albania"</span> : <span class="string">"ALB"</span>,</span><br><span class="line">    <span class="string">"Algeria"</span> : <span class="string">"DZA"</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">"Zaire"</span> : <span class="string">"COD"</span>,</span><br><span class="line">    <span class="string">"Zambia"</span> : <span class="string">"ZMB"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Puis, nous avons créé un opérateur similaire à <code>mapping</code> qui, au lieu de prendre en entrée l’objet courant et en paramètre la table de correspondance, permet de mettre en paramètre deux noms de variable: l’entrée et la table.<br>Il s’appelle <code>mappingVar</code> (ou <code>combine</code>).</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">set</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">arg</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">a</span>": <span class="value"><span class="string">"Aha!"</span></span>,</span><br><span class="line">      "<span class="attribute">b</span>": <span class="value"><span class="string">"Baby"</span></span><br><span class="line">    </span>&#125;</span>,</span><br><span class="line">    "<span class="attribute">input</span>": <span class="value"><span class="string">"a"</span></span><br><span class="line">  </span>&#125;</span>,</span><br><span class="line">  "<span class="attribute">mappingVar</span>": <span class="value">[</span><br><span class="line">    <span class="string">"input"</span>,</span><br><span class="line">    <span class="string">"arg"</span></span><br><span class="line">  ]</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Ceci renvoie <code>&quot;Aha!&quot;</code>.</p>
<p>Donc, grâce à <code>ezref</code>, on peut mettre la table de correspondance sur un serveur externe, et le charger dans un <code>corpusFields</code>, accessible comme une variable dans les <code>flyingFields</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"documentFields"</span>: &#123;</span><br><span class="line">  <span class="string">"$fields.country"</span> : &#123;</span><br><span class="line">    <span class="string">"label"</span>: <span class="string">"Pays d'affiliation"</span>,</span><br><span class="line">    <span class="string">"path"</span> : <span class="string">"content.json.Pays"</span>,</span><br><span class="line">    <span class="string">"parseCSV"</span>: <span class="string">";"</span>,</span><br><span class="line">    <span class="string">"foreach"</span>: &#123;</span><br><span class="line">      <span class="string">"trim"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"corpusFields"</span>: &#123;</span><br><span class="line">  <span class="string">"$country2iso"</span>: &#123;</span><br><span class="line">    <span class="string">"$?"</span> : <span class="string">"http://localhost:35000/country2iso3.json"</span>,</span><br><span class="line">    <span class="string">"parseJSON"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"flyingFields"</span>: &#123;</span><br><span class="line">  <span class="string">"$country2"</span>: &#123;</span><br><span class="line">    <span class="string">"$_id"</span>: &#123;</span><br><span class="line">      <span class="string">"combine"</span> : [<span class="string">"_id"</span>, <span class="string">"country2iso"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"mask"</span>: <span class="string">"_id,value"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Quand on veut avoir le nombre de valeurs distinctes de <code>fields.country</code>, on peut utiliser l’URL <a href="http://localhost:3000/compute.json?operator=distinct&amp;field=fields.country" target="_blank" rel="external">http://localhost:3000/compute.json?operator=distinct&amp;field=fields.country</a> :</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  data: [</span><br><span class="line">    &#123;</span><br><span class="line">      _id: "Albania",</span><br><span class="line">      value: 2</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      _id: "Algeria",</span><br><span class="line">      value: 15</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Mais en utilisant <code>&amp;flying=country2</code> en plus, on applique le JBJ correspondant à ce champ:<br><a href="http://localhost:3000/compute.json?operator=distinct&amp;field=fields.country&amp;flying=country2" target="_blank" rel="external">http://localhost:3000/compute.json?operator=distinct&amp;field=fields.country&amp;flying=country2</a></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  data: [</span><br><span class="line">    &#123;</span><br><span class="line">      _id: "ALB",</span><br><span class="line">      value: 2</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      _id: "DZA",</span><br><span class="line">      value: 15</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/05/04/Sprint-Review-15W14-ressources-externes/" data-id="cib7ovri5001ickp5fzg28rn6" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/05/04/Sprint-Review-15W14-ressources-externes/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezref/">ezref</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flyingFields/">flyingFields</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/forever/">forever</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jbj/">jbj</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/login/">login</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/twitter/">twitter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Sprint-Review-15W09-stabilisation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/30/Sprint-Review-15W09-stabilisation/" class="article-date">
  <time datetime="2015-03-30T14:00:00.000Z" itemprop="datePublished">30 3 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/30/Sprint-Review-15W09-stabilisation/">Sprint Review #15W09: stabilisation</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Blog">Blog</h1><p>Afin de ne pas perdre des articles sur MADEC en général, et de pouvoir les stocker quelque part, ils sont écrits en français et en <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank" rel="external">Markdown</a>, sauvegardés sur <a href="https://github.com/madec-project/blogfr" target="_blank" rel="external">GitHub</a>.</p>
<p>Nous avons choisi un générateur de site statique nommé <a href="http://hexo.io" target="_blank" rel="external">Hexo</a>.</p>
<p>J’ai <a href="2015/03/13/Presentation/">transcrit le poster</a> soumis (et accepté?) à <a href="http://atlas.irit.fr/" target="_blank" rel="external">VSST</a>.</p>
<p>J’ai aussi commencé un article sur le minimum à savoir pour <a href="/2015/03/19/Configuration/">configurer un ezVIS</a>.</p>
<p>J’en profite pour noter les sujets (et les liens) à présenter lors de cette <em>sprint review</em> numéro 9 qui expose les tâches menées à bien depuis la semaine 9 de 2015.</p>
<h1 id="machine_virtuelle">machine virtuelle</h1><p>Nous avons eu quelques soucis de requêtes répondant bizarrement sur la machine virtuelle hébergeant <code>ezmaster</code> et <code>ezVIS</code>. Nous avons d’abord cru qu’il s’agissait d’un problème de mémoire (tant le <em>swap</em> était peu utilisé).</p>
<p>La mémoire vive de la machine a donc été portée de 2Gio à 8Gio.</p>
<h1 id="ezmaster">ezmaster</h1><p>L’application <code>castor-admin</code>, qui sert à administrer des instances d’applications (ou apps) basées sur <code>castor-core</code> (comme le sont <a href="http://github.com/madec-project/ezvis" target="_blank" rel="external"><code>ezvis</code></a> et <a href="https://github.com/termith-anr/idefix" target="_blank" rel="external"><code>idefix</code></a>) a été renommée en <code>ezmaster</code>, que ce soit sur <a href="https://github.com/madec-project/ezmaster" target="_blank" rel="external">GitHub</a> ou sur <a href="https://www.npmjs.com/package/ezmaster" target="_blank" rel="external">npm</a>.</p>
<h1 id="board-inist-fr">board.inist.fr</h1><p>Nous avons configuré <code>ezmaster</code> sur la machine virtuelle pour que le nom de domaine <code>board.inist.fr</code> et ses sous-domaines puissent servir à publier une instance d’<code>ezvis</code>.</p>
<p>Ainsi, les instances mises en place pour la démonstration du projet au directeur de la DIST jeudi dernier (le 26/03/2015) sont accessibles de l’extérieur.</p>
<ul>
<li>ezPAARSE results for ST2I portal logs (march 2015): <a href="http://couperin_ezpaarseezvis640v3_3.board.inist.fr" target="_blank" rel="external">http://couperin_ezpaarseezvis640v3_3.board.inist.fr</a></li>
<li>ISTEX - Food Science &amp; Technology: <a href="http://dist_istexfoodscitechnezvis640v1_1.board.inist.fr" target="_blank" rel="external">http://dist_istexfoodscitechnezvis640v1_1.board.inist.fr</a></li>
<li>Lorraine (Moselle) - 2007-2012: <a href="http://inist_lorraineezvis640v1_1.board.inist.fr" target="_blank" rel="external">http://inist_lorraineezvis640v1_1.board.inist.fr</a></li>
</ul>
<p>Les deux premières instances sont aussi disponibles dans le dépôt vitrine: <a href="https://github.com/madec-project/showcase" target="_blank" rel="external">showcase</a>.</p>
<p>Isabelle y a aussi ajouté une étude sur les séries télévisées.</p>
<h1 id="dalekjs">dalekjs</h1><p>J’ai commencé à mettre en place des tests, non pas unitaires, mais de comportement de l’application: en utilisant <a href="http://dalekjs.com" target="_blank" rel="external">dalekjs</a>, on peut écrire des scénarios de test de l’application.</p>
<p>Lancement du serveur à tester:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/dev/castorjs/ezvis</span><br><span class="line">$ node cli <span class="built_in">test</span>/dataset/<span class="built_in">test</span>2</span><br></pre></td></tr></table></figure></p>
<p>Lancement des tests:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/dev/castorjs/ezvis</span><br><span class="line">$ dalek <span class="built_in">test</span>/<span class="built_in">test</span>2.js</span><br></pre></td></tr></table></figure></p>
<p>Résultat espéré:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Running tests</span><br><span class="line">Running Browser: PhantomJS</span><br><span class="line">OS: linux unknown <span class="number">64</span>bit</span><br><span class="line">Browser Version: <span class="number">1.9</span>.<span class="number">8</span></span><br><span class="line">RUNNING TEST - <span class="string">"Has data"</span></span><br><span class="line">▶ OPEN http://localhost:<span class="number">20002</span>/documents.html</span><br><span class="line">▶ WAITFOR Interrupted by timeout</span><br><span class="line">✔ EXISTS <span class="string">"Showing 1 to 4 of 4 entries"</span></span><br><span class="line">✔ TEXT <span class="string">"Showing 1 to 4 of 4 entries"</span></span><br><span class="line">✔ TEXT <span class="string">"1906"</span> <span class="keyword">in</span> first line</span><br><span class="line">✔ TEXT <span class="string">"Kurt Gödel"</span> <span class="keyword">in</span> first line</span><br><span class="line">▶ CLICK <span class="comment">#dataTables-documents tr:nth-child(4) td:first:first-child a</span></span><br><span class="line">✔ TITLE Correct</span><br><span class="line">✔ <span class="number">5</span> Assertions run</span><br><span class="line">✔ TEST - <span class="string">"Has data"</span> SUCCEEDED</span><br><span class="line">RUNNING TEST - <span class="string">"Good display"</span></span><br><span class="line">▶ OPEN http://localhost:<span class="number">20002</span>/display/Z5OAoW.html</span><br><span class="line">✔ TITLE Correct</span><br><span class="line">✔ NUMBEROFELEMENTS <span class="number">3</span> fields displayed</span><br><span class="line">✔ TEXT Name is <span class="string">"Douglas Hofstadter"</span></span><br><span class="line">✔ <span class="number">3</span> Assertions run</span><br><span class="line">✔ TEST - <span class="string">"Good display"</span> SUCCEEDED</span><br><span class="line"> <span class="number">8</span>/<span class="number">8</span> assertions passed. Elapsed Time: <span class="number">10.11</span> sec</span><br></pre></td></tr></table></figure></p>
<h1 id="JBJ">JBJ</h1><ul>
<li>on a évité d’écrire une action <code>mapArray</code> inutile (<a href="https://github.com/castorjs/node-jbj/issues/5" target="_blank" rel="external">jbj#5</a>)</li>
<li>j’ai ajouté l’action <code>substring</code> (<a href="https://github.com/castorjs/node-jbj/issues/6" target="_blank" rel="external">jbj#6</a>), plus simple et intuitive que l’utilisation successive de <code>truncate</code> et <code>shift</code>.</li>
</ul>
<h1 id="ezVIS">ezVIS</h1><p>J’ai commencé à me servir des fonctionnalités de GitHub qui ne sont pas forcément incluses dans <code>git</code>: le système d’<em>issues</em> et de <em>milestones</em>.</p>
<p>J’ai donc placé un jalon pour ce sprint, en lui donnant une date. C’est la <a href="https://github.com/madec-project/ezvis/milestones?state=closed" target="_blank" rel="external">milestone</a> <a href="https://github.com/madec-project/ezvis/issues?q=milestone%3A%22Sprint+%2315W09%3A+stabilization%22" target="_blank" rel="external">“Sprint #15W09: stabilization” d’ezvis</a>:</p>
<ul>
<li>changer le label “Search” en “Filter” dans le page <code>/documents.html</code> <a href="https://github.com/madec-project/ezvis/issues/3" target="_blank" rel="external">#3</a></li>
<li>enlever le lien vers les champs depuis le tableau de bord <a href="https://github.com/madec-project/ezvis/issues/4" target="_blank" rel="external">#4</a></li>
<li>affecter une couleur à chaque champ d’un réseau inter-champs <a href="https://github.com/madec-project/ezvis/issues/5" target="_blank" rel="external">#5</a></li>
<li>corriger le bug d’export CSV vide de <code>/documents.html</code> <a href="https://github.com/madec-project/ezvis/issues/6" target="_blank" rel="external">#6</a></li>
<li>ajouter un seuil en-deça duquel on rassemble les valeurs dans le camembert <a href="https://github.com/madec-project/ezvis/issues/7" target="_blank" rel="external">#7</a></li>
<li>corriger les réseaux où les arcs sont dirigés <a href="https://github.com/madec-project/ezvis/issues/8" target="_blank" rel="external">#8</a></li>
<li>donner la possibilité de modifier la largeur de la colonne de gauche dans <code>/display.html</code> <a href="https://github.com/madec-project/ezvis/issues/9" target="_blank" rel="external">#9</a></li>
<li>restaurer la configuration des légendes <a href="https://github.com/madec-project/ezvis/issues/10" target="_blank" rel="external">#10</a></li>
<li>donner la possibilité d’afficher aussi les années vides dans les histogrammes <a href="https://github.com/madec-project/ezvis/issues/11" target="_blank" rel="external">#11</a></li>
<li>donner la possibilité d’afficher des labels plus courts sur les barres horizontales <a href="https://github.com/madec-project/ezvis/issues/12" target="_blank" rel="external">#12</a></li>
<li>verbaliser les codes des pays sélectionnés dans les cartes, afin de rendre les filtres plus lisibles <a href="https://github.com/madec-project/ezvis/issues/13" target="_blank" rel="external">#13</a></li>
<li>faire commencer l’axe des ordonnées à zéro dans les histogrammes <a href="https://github.com/madec-project/ezvis/issues/14" target="_blank" rel="external">#14</a></li>
<li>déterminer si on peut utiliser des chaînes de caractères sur l’axe des X pour créer des diagrammes à bulles <a href="https://github.com/madec-project/ezvis/issues/15" target="_blank" rel="external">#15</a></li>
<li>restaurer la configuration des couleurs <a href="https://github.com/madec-project/ezvis/issues/16" target="_blank" rel="external">#16</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/03/30/Sprint-Review-15W09-stabilisation/" data-id="cib7ovrij001vckp58a5dhpiu" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/03/30/Sprint-Review-15W09-stabilisation/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dalekjs/">dalekjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezmaster/">ezmaster</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jbj/">jbj</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/proxy/">proxy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/showcase/">showcase</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Configuration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/19/Configuration/" class="article-date">
  <time datetime="2015-03-19T22:38:00.000Z" itemprop="datePublished">19 3 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/19/Configuration/">Configuration d&#39;ezVIS / minimum</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Introduction">Introduction</h1><p>Pour créer un rapport web avec ezVIS, il faut configurer l’application. Il y a 3 volets:</p>
<ol>
<li>connexion avec la base de données</li>
<li>intégration des données</li>
<li>ajout de graphiques</li>
</ol>
<p>Ils sont tous gérables dans le fichier de configuration du rapport, qui est au format <a href="http://fr.wikipedia.org/wiki/JavaScript_Object_Notation" target="_blank" rel="external">JSON</a> (JavaScript Object Notation). Son extension est <code>.json</code>et son préfixe est obligatoirement le même que le nom du répertoire dans lequel se trouvent les fichiers de données.<br>Nous prendrons l’exemple d’un fichier <code>data.json</code> placé au même niveau que le répertoire <code>data</code>, qui contient un fichier au format CSV dont nous reparlerons plus tard.</p>
<h1 id="Connexion_avec_la_base_de_données">Connexion avec la base de données</h1><p>Le système de gestion de base de données utilisé par ezVIS est <a href="http://mongodb.org" target="_blank" rel="external">mongoDB</a>, et une connexion par défaut est utilisée, qui permet de retrouver les données liées au rapport dans la <em>database</em> appelée <code>castor</code>.<br>Si vous voulez changer cet emplacement, modifiez la clé <code>connexionURI</code>du fichier <code>data.json</code> (valeur par défaut: <code>mongodb://localhost:27017/castor/</code>).</p>
<p>À l’intérieur de <code>castor</code>, mongo range ses données dans des collections. Sans indication supplémentaire, ezVIS nomme la collection avec une clé de hachage calculée à partir du chemin du répertoire <code>data</code>. Cela donne un nom illisible pour un humain, mais quasi-unique en fonction du chemin.<br>Si vous avez l’intention de manipuler les données dans mongoDB (par exemple, simplement pour réinitialiser les données, avec <a href="https://github.com/castorjs/castor-clean" target="_blank" rel="external"><code>castor-clean</code></a>), il est prudent de renseigner la clé <code>collectionName</code>, dans notre cas avec la valeur <code>&quot;data&quot;</code>par exemple:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"collectionName"</span>: <span class="string">"data"</span>,</span><br></pre></td></tr></table></figure>
<p>Tant que vous y êtes, il est prudent de renseigner aussi les clés <code>title</code>et <code>description</code>, pour vous y retrouver quand vous relirez ce fichier dans quelques mois…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"title"</span>: <span class="string">"Rapport d'exemple de configuration"</span>,</span><br><span class="line"><span class="string">"description"</span>: <span class="string">"D'après l'article \"Configuration d'ezVIS / minimum\""</span>,</span><br><span class="line"><span class="string">"collectionName"</span>: <span class="string">"data"</span>,</span><br></pre></td></tr></table></figure>
<p><code>title</code> sera utilisé pour le titre du rapport (la fenêtre du navigateur) et <code>description</code> sera beaucoup plus discrètement placée dans les métadonnées HTML du rapport (visible surtout des moteurs de recherche).</p>
<p>À condition d’avoir déjà installé <code>ezvis</code>, vous pouvez d’ores et déjà le lancer avec:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ezvis data</span><br></pre></td></tr></table></figure>
<h1 id="Intégration_des_données">Intégration des données</h1><p>Après avoir lancé ezVIS, un rapport vide devrait être consultable à l’URL <a href="http://localhost:3000/" target="_blank" rel="external">http://localhost:3000/</a> (3000 étant le port par défaut, on peut le changer via la clé <code>port</code>).</p>
<p>Le menu gauche doit donner accès au <em>dashboard</em> et aux <em>documents</em>.</p>
<p>Seul un message signalant qu’aucune configuration n’existe encore apparaît sur ces deux pages.</p>
<p>Nous allons commencer par configurer simplement la liste des documents. Elle se présente sous la forme d’une table affichant, dans l’ordre où ils sont déclarés dans le fichier <code>data.json</code>, tous les champs déclarés <em>visibles</em>.</p>
<p>Prenons un exemple simple, un fichier <code>data.csv</code> qui sera placé dans le répertoire <code>data</code>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">year,person&#10;1912,Alan Turing&#10;1927,Marvin Minsky</span><br></pre></td></tr></table></figure>
<p>C’est un fichier CSV (Comma Separated Values) qui aurait pu être exporté d’un tableur, comme Excel ou LibreOffice.<br>Pour que ces données soient affichées dans la page <a href="http://localhost:3000/documents.html" target="_blank" rel="external">http://localhost:3000/documents.html</a>, il faut que nous déclarions les champs <code>year</code>et <code>person</code> (qui sont automatiquement placés dans une clé <code>content.json</code> de chaque document dans la base, au démarrage d’ezVIS).<br>Le premier document sera placé dans la base sous forme d’un document JSON, et la partie qui nous intéresse aura cette forme:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">content</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">json</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">year</span>": <span class="value"><span class="string">"1912"</span></span>,</span><br><span class="line">      "<span class="attribute">person</span>": <span class="value"><span class="string">"Marvin Minsky"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Pour déclarer les champs, nous utiliserons la clé <code>documentFields</code> (qui au passage créera une copie du contenu des champs mais directement à la racine du document):</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">documentFields</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">$year</span>": <span class="value">&#123;</span><br><span class="line">	  "<span class="attribute">get</span>": <span class="value"><span class="string">"content.json.year"</span></span>,</span><br><span class="line">	  "<span class="attribute">visible</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">	  "<span class="attribute">label</span>": <span class="value"><span class="string">"Année"</span></span><br><span class="line">    </span>&#125;</span>,</span><br><span class="line">    "<span class="attribute">$person</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">get</span>": <span class="value"><span class="string">"content.json.person"</span></span>,</span><br><span class="line">      "<span class="attribute">visible</span>": <span class="value"><span class="literal">true</span></span>,</span><br><span class="line">      "<span class="attribute">label</span>": <span class="value"><span class="string">"Nom"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Cette déclaration modifiera le document précédent pour donner ceci:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "<span class="attribute">content</span>": <span class="value">&#123;</span><br><span class="line">    "<span class="attribute">json</span>": <span class="value">&#123;</span><br><span class="line">      "<span class="attribute">year</span>": <span class="value"><span class="string">"1912"</span></span>,</span><br><span class="line">      "<span class="attribute">person</span>": <span class="value"><span class="string">"Marvin Minsky"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">  </span>&#125;</span>,</span><br><span class="line">  "<span class="attribute">year</span>": <span class="value"><span class="string">"1912"</span></span>,</span><br><span class="line">  "<span class="attribute">person</span>": <span class="value"><span class="string">"Marvin Minsky"</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Cela peut paraître inutile pour l’instant, mais l’intérêt de cette redondance deviendra évident avec la manipulation de champs multivalués, par exemple.</p>
<p>Le fait d’avoir déclaré une clé <code>visible</code> avec une valeur <code>true</code> implique que le champ sera visible dans la table des documents.</p>
<p>La partie <code>label</code> de la déclaration donne le nom la colonne correspondante dans la table des documents.</p>
<h1 id="Ajout_de_graphique">Ajout de graphique</h1><p>Pour ajouter un graphique, il suffit de sélectionner un type parmi:</p>
<ol>
<li>histogramme <code>histogram</code></li>
<li>barres horizontales <code>horizontalbars</code></li>
<li>camembert <code>pie</code></li>
<li>carte géographique <code>map</code></li>
<li>réseau <code>network</code></li>
</ol>
<p>et d’y associer un champ (calculé ou non).</p>
<p>Le plus simple est un histogramme.</p>
<p>Tous les graphiques sont inclus dans le <code>dashboard</code> (tableau de bord), c’est-à-dire la page d’accueil d’ezVIS.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/03/19/Configuration/" data-id="cib7ovrjb002bckp542reyfo7" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/03/19/Configuration/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/configuration/">configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Presentation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/13/Presentation/" class="article-date">
  <time datetime="2015-03-13T17:02:00.000Z" itemprop="datePublished">13 3 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/13/Presentation/">Présentation d&#39;ezVIS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Introduction">Introduction</h1><p>ezVIS est le résultat d’une réflexion menée au sein de l’Inist-CNRS sur le besoin d’un outil de mise à disposition et d’exploration de corpus en remplacement d’outil développé précédemment comme SERVIST. Dans le cadre du projet MADEC, le choix a été fait d’aborder l’exploration d’un corpus par sa description à travers un tableau de bord.  Cela a conduit au développement d’un outil de réalisation de tableau de bord décrivant le corpus et y donnant accès.</p>
<h1 id="ezVIS">ezVIS</h1><p>L’Inist-CNRS propose à travers son service <em>Appui au pilotage</em> des études bibliométriques réalisées à partir de données structurées fournies par les usagers ou issues de bases de données pour assurer le suivi de la production scientifique, mettre en évidence les collaborations, etc. Ces études livrées sous forme de rapport PDF ne répondent pas à toutes les attentes des usagers (réutilisation des graphiques, accès aux données, etc.). Un outil comme <a href="https://github.com/madec-project/ezvis" target="_blank" rel="external">ezVIS</a> est la solution retenue pour satisfaire les attentes d’interactivité et de dynamisme du résultat fourni à travers un tableau de bord convivial point d’entrée du rapport en ligne.</p>
<h2 id="Configuration_des_rapports">Configuration des rapports</h2><p>Chaque rapport mis en ligne correspond à une instance configurée de façon relativement simple. Il est possible de créer autant d’instances que nécessaire en reproduisant la même configuration ou en la personnalisant. Cet aspect devrait permettre de multiplier le nombre de rapports en capitalisant et mutualisant les configurations. Ce gain de temps devrait permettre de pousser le travail de personnalisation.</p>
<p>Par ailleurs, les instances peuvent être gérées grâce à une interface à la prise en main aisée.<br>La figure 1 présente <a href="https://github.com/madec-project/ezmaster" target="_blank" rel="external">l’interface d’administration</a> qui permet créer et gérer (modification, suppression) les instances et de les configurer.</p>
<img src="/2015/03/13/Presentation/ezmaster-edit-instance.png">
<p>Figure 1 : interface d’administration et outil de paramétrage d’un rapport</p>
<p>À partir de données structurées en UTF8 et mises à disposition dans des fichiers de différents formats (csv, tsv ou XML) la configuration consiste à :</p>
<ul>
<li>sélectionner les champs à afficher ou à utiliser pour les calculs,</li>
<li>réaliser les calculs (somme, pourcentage, etc.),</li>
<li>choisir le type de graphique  (histogramme, camembert, barres horizontales) et les paramétrer (couleurs, seuil, légende).</li>
<li>définir les facettes associées à chaque graphique.</li>
<li>déterminer l’affichage des notices.</li>
</ul>
<h2 id="Fonctionnalités_d’exploration">Fonctionnalités d’exploration</h2><p>À ce stade du développement, l’outil offre un rapport web constitué d’une page d’accueil présentant le tableau de bord et un index sous forme de menu à partir desquels il est possible de naviguer vers des informations plus détaillées et les notices correspondantes. Les facettes complètent les graphiques en  proposant  des filtres complémentaires  pour mettre en évidence d’autres résultats. La figure 2 présente un des graphiques du tableau de bord avec les facettes associées et le corpus sous forme de tableau.</p>
<img src="/2015/03/13/Presentation/ezvis-dashboard.png">
<p>Figure 2 : Détail du tableau de bord</p>
<p>La suite du développement prévoit d’autres types de représentations comme des cartes, des réseaux ainsi que des fonctionnalités comme l’export ou la sécurisation de l’interface.</p>
<h1 id="Exemples_d’usages">Exemples d’usages</h1><p>Le principal besoin auquel répond ezVIS est la création de tableaux de bord mettant en évidence des informations de type bibliométrique. La facilité de création et de configuration d’une instance est l’un des avantages évidents de cet outil qui autorise la multiplication des tableaux de bord.  Toujours dans le domaine des corpus de notices bibliographiques, un tel outil permet également de vérifier le contenu et la qualité des données.<br>Enfin, le fait qu’il s’agisse d’un logiciel libre autorise son appropriation au-delà de la production scientifique comme par exemple pour l’analyse de fichiers de « logs » dans le cadre du projet ezPAARSE3.</p>
<h2 id="Connaissance_de_la_production_scientifique_liée_à_une_thématique">Connaissance de la production scientifique liée à une thématique</h2><p>À partir d’un corpus constitué thématiquement, il est possible de mettre en évidence des éléments concernant la production scientifique, son évolution ainsi que la répartition en sous-thématiques, par exemple. La figure 3 illustre l’utilisation d’un graphique de type camembert qui représente la répartition thématique du corpus. Il est possible en cliquant sur une partie du graphique d’avoir accès à la liste des résultats correspondants. Il est également possible d’utiliser les facettes pour mettre à jour le graphique de manière dynamique le graphique.</p>
<img src="/2015/03/13/Presentation/ezvis-facets.png">
<p>Figure 3 : Mise en évidence de l’utilisation des facettes pour filtrer les résultats</p>
<h2 id="Exploration_du_contenu_d’un_corpus">Exploration du contenu d’un corpus</h2><p>Il peut être utile avant la mise en ligne de notices bibliographiques de vérifier la qualité des données ou leur homogénéité lorsque les origines et les formats sont différents. La figure 4 illustre l’exploration du corpus mis à disposition par un éditeur dans le cadre d’un projet.</p>
<img src="/2015/03/13/Presentation/ezvis-biblio-corpus.png">
<p>Figure 4 : Exploration d’un corpus de notice bibliographique</p>
<h2 id="Analyse_des_consultations_de_ressources_en_ligne">Analyse des consultations de ressources en ligne</h2><p>ezVIS peut être utilisé pour réaliser des comptages d’autres types d’informations structurées et le choix d’un logiciel libre favorise fortement l’élargissement de l’usage. La figure 5 illustre l’utilisation d’ezVIS pour la mise en évidence du détail des consultations.</p>
<img src="/2015/03/13/Presentation/ezvis-logs.png">
<p>Figure 5 : Détail  des consultations de ressources numériques</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/03/13/Presentation/" data-id="cib7ovrin0025ckp5efnwk0f7" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/03/13/Presentation/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezmaster/">ezmaster</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ezvis/">ezvis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/presentation/">présentation</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vsst/">vsst</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Bienvenue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/10/Bienvenue/" class="article-date">
  <time datetime="2015-02-10T14:10:04.000Z" itemprop="datePublished">10 2 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/10/Bienvenue/">Bienvenue</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Ce blog a pour sujet le projet MADEC, et donc ses outils.</p>
<p>Ils sont tous hébergés sur <a href="https://github.com/madec-project/" target="_blank" rel="external">Github</a>.</p>
<p>Le rythme de publication n’est pas encore fixé.<br>Il dépendra surtout de nos disponibilités.</p>
<p>À bientôt, donc.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://madec-project.github.io/2015/02/10/Bienvenue/" data-id="cib7ovrh10000ckp5ktweo8xp" class="article-share-link">Share</a>
      
        <a href="http://madec-project.github.io/2015/02/10/Bienvenue/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/general/">général</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/amcharts/">amcharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/configuration/">configuration</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csv/">csv</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cytoscape/">cytoscape</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dalekjs/">dalekjs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/documentFields/">documentFields</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/export/">export</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ezmaster/">ezmaster</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ezref/">ezref</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ezvis/">ezvis</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flyingFields/">flyingFields</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/forever/">forever</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/general/">général</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jbj/">jbj</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/">json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/login/">login</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/overlay/">overlay</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pdf/">pdf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/png/">png</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proxy/">proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/presentation/">présentation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/showcase/">showcase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svg/">svg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tsv/">tsv</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/twitter/">twitter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vsst/">vsst</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xlsx/">xlsx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xml/">xml</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/amcharts/" style="font-size: 10px;">amcharts</a><a href="/tags/blog/" style="font-size: 12.5px;">blog</a><a href="/tags/configuration/" style="font-size: 10px;">configuration</a><a href="/tags/csv/" style="font-size: 12.5px;">csv</a><a href="/tags/cytoscape/" style="font-size: 10px;">cytoscape</a><a href="/tags/dalekjs/" style="font-size: 10px;">dalekjs</a><a href="/tags/documentFields/" style="font-size: 10px;">documentFields</a><a href="/tags/export/" style="font-size: 12.5px;">export</a><a href="/tags/ezmaster/" style="font-size: 15px;">ezmaster</a><a href="/tags/ezref/" style="font-size: 15px;">ezref</a><a href="/tags/ezvis/" style="font-size: 20px;">ezvis</a><a href="/tags/flyingFields/" style="font-size: 15px;">flyingFields</a><a href="/tags/forever/" style="font-size: 12.5px;">forever</a><a href="/tags/general/" style="font-size: 10px;">général</a><a href="/tags/http/" style="font-size: 10px;">http</a><a href="/tags/jbj/" style="font-size: 17.5px;">jbj</a><a href="/tags/json/" style="font-size: 10px;">json</a><a href="/tags/login/" style="font-size: 10px;">login</a><a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a><a href="/tags/overlay/" style="font-size: 10px;">overlay</a><a href="/tags/pdf/" style="font-size: 10px;">pdf</a><a href="/tags/png/" style="font-size: 10px;">png</a><a href="/tags/proxy/" style="font-size: 10px;">proxy</a><a href="/tags/presentation/" style="font-size: 10px;">présentation</a><a href="/tags/showcase/" style="font-size: 10px;">showcase</a><a href="/tags/svg/" style="font-size: 10px;">svg</a><a href="/tags/tsv/" style="font-size: 12.5px;">tsv</a><a href="/tags/twitter/" style="font-size: 10px;">twitter</a><a href="/tags/vsst/" style="font-size: 12.5px;">vsst</a><a href="/tags/xlsx/" style="font-size: 10px;">xlsx</a><a href="/tags/xml/" style="font-size: 10px;">xml</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">juin 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">mai 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">mars 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">février 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/06/23/Sprint-Review-15W23-calculs-complexes/">Sprint Review #15W23: calculs complexes</a>
          </li>
        
          <li>
            <a href="/2015/06/01/Sprint-Review-15W19-Exports/">Sprint Review 15W19: Exports</a>
          </li>
        
          <li>
            <a href="/2015/05/04/Sprint-Review-15W14-ressources-externes/">Sprint Review #15W14: ressources externes</a>
          </li>
        
          <li>
            <a href="/2015/03/30/Sprint-Review-15W09-stabilisation/">Sprint Review #15W09: stabilisation</a>
          </li>
        
          <li>
            <a href="/2015/03/19/Configuration/">Configuration d&#39;ezVIS / minimum</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 MADEC<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'madecproject';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>